{{{

usage: Usage: e2spt_average.py <ref1> <ref2> ... [options] 
Note that this program is not part of the original e2spt hierarchy, but is part of an experimental refactoring.

Will read metadata from the specified spt_XX directory, as produced by e2spt_align.py, and average a selected subset of subtomograms in the predetermined orientation.
This version of the program competes each particle against N reference volumes, and only averages it with the best match. Alignment parameters from a previous
e2spt_align run are used to define the coarse orientation, so the references must be similar and in the same orientation. Alignments are translationally adjusted only.
If --sym is specified, each possible symmetric orientation is tested starting with the exisiting alignment parameters, and only the best is kept.

}}}


||option||type||description||
||-h, --help|| ||show this help message and exit||
||--version|| ||show program's version number and exit||
||--iter||int||Iteration number within path. Default = start a new iteration||
||--simthr||float||Similarity is smaller for better 'quality' particles. Specify the highest value to include from e2spt_hist.py. Default -0.1||
||--simthr2||float||Simlarity score for the best matching final alignment. Scaling may be different due to resolution limit. Default 0||
||--replace||str||Replace the input subtomograms used for alignment with the specified file (used when the aligned particles were masked or filtered)||
||--wedgesigma||float||Threshold for identifying missing data in Fourier space in terms of standard deviation of each Fourier shell. Default 3.0||
||--minalt||float||Minimum alignment altitude to include. Default=0||
||--maxalt||float||Maximum alignment altitude to include. Deafult=180||
||--maxtilt||float||Explicitly zeroes data beyond specified tilt angle. Assumes tilt axis exactly on Y and zero tilt in X-Y plane. Default 90 (no limit).||
||--maxres||float||Lowpass filter applied to particles prior to alignment/averaging, resolution in A. Default disabled||
||--listfile||str||Specify a filename containing a list of integer particle numbers to include in the average, one per line, first is 0. Additional exclusions may apply.||
||--shrinkcompare||int||Shrink factor for classification only (for speed)||
||--sym||str||Symmetry of the input. Must be aligned in standard orientation to work properly. The structure will be expanded from this symmetry to c1.||
||--applysym||str||Symmetry to apply to the structure after classification.||
||--path||str||Path to a folder containing current results (default = highest spt_XX)||
||--parallel||str||parallel mode. Not all functions are implemented yet..||
||--threads||int||Number of alignment threads to run in parallel on a single computer. This is the only parallelism supported by e2spt_align at present.||
||--maskclass||str||Mask each reference before classification||
||--mask||str||Mask applied to final averages||
||--verbose, -v||int||verbose level [0-9], higher number means higher level of verboseness||
||--noali|| ||Skip translational alignment.||
||--symcopy|| ||Copy each particle for each asymetrical unit. need a maskclass to focus on one unit. do not work with applysym||
||--nolstout|| ||Skip writting lst output.||
||--sample||int||use only N samples.||
||--randnclass||int||split into N random classes. ignore refs||
||--ppid||int||Set the PID of the parent process, used for cross platform PPID||
