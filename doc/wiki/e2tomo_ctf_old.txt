||option||type||description||
||--defocusmax||float||Default=0.0, not used. If --autofit, maximum autofit defocus. A value will be estimated based on tilt angle and distance from the tilt axis.||
||--thickness||int||This corresponds to the spread of the specimen in Z in the tomogram, at the same binning (sampling) as the provided tiltseries, images or subtiltseries.||
||--voltage||int||Default=200. Voltage of the microscope with which the images where collected. Supply it to replace the value in ctfparamsfile(s), or if ctfparamsfile(s) are lacking altogether.||
||--mintiles||int||Minimum number of 'good tiles' in strip to consider it.||
||--subtiltsdir||str||Provide a directory containing individual stacks, where each stack is a 'mini tilt series' or a 'subtilt series' for single particles. Then, each image for each particle in the dir will be phase-phlipped using the ctf parameters you provide. If each image in the subtilt series is at a different defocus, then the parameters should be provided through --ctfparamsfile, whith a different defocus value per row. (There should be as many rows as images in each subtiltseries).||
||--saveffts|| ||Saves ffts of each average of tiles per strip, for all images.||
||--ppid||int||Set the PID of the parent process, used for cross platform PPID||
||--verbose, -v||int||verbose level [0-9], higner number means higher level of verboseness.||
||--angles||str||Default=None. Overwrites --anglesfile. Comma separated list of tilt angles.||
||--path||str||Directory to store results in. The default is a numbered series of directories containing the prefix 'sptctf'; for example, sptctf_02 will be the directory by default if 'sptctf_01' already exists.||
||--targetdefocus||float||Default=0 (not used). Target defocus at the tilt axis. In the absence of ctfparamsfile(s) this value will be assumed to be the defocus at the tilt axis for all tilt images and will be used to constrain calculation of the global defocus of each image.||
||--invert|| ||Invert the contrast of the output data, compared to the input data.||
||--savestriptiles|| ||Saves all tiles for all strips, for all images, in one stack per strip.||
||--radius||int||Radius of the particle in pixels.||
||--imagestem||str||Default=None. If the images to apply ctf correction on are already unstacked and are individual mrc files, supply a common string to all of them.||
||--defocilist||str||Text file containing a single column of defocus values in microns. The file should have as many defocus values as images in the tiltseries or subtiltseries supplied.||
||--cs||float||Default=2.1. Cs of the microscope with which the images were collected. Supply it to replace the value in ctfparamsfile(s), or if ctfparamsfile(s) are lacking altogether.||
||--exclude||str||Default=None. Only works if --tiltseries is provided. Comma-separated list of image indexes in the --tiltseries to exclude from CTF fitting. For example, --exclude 0,3,4,6,7.||
||--subset||int||Requires --subtiltsdir. Specify how many subtiltseries (or particles) to ctf correct. If you specify 10, the first 10 subtiltseires in --subtiltsdir will be corrected. 0 means "process all" because it makes no sense to process none||
||--fitgradient|| ||Runs automated CTF fitting on the input images, based on tiling.||
||--bfactor||int||Default=1000. Bfactor or temperature factor to use. Supply it to replace the value in ctfparamsfile(s), or if ctfparamsfile(s) are lacking altogether.||
||-h, --help|| ||show this help message and exit||
||--depthfocus||float||Default=0. Not used. Total variation in defocus (in Angstroms) tolerated within a strip to still consider it a region of 'constant defocus'.||
||--anglesfile||str||Default=None. File containing a list of tilt angles corresponding to the tilt angles of images 0 to n of an aligned tilt series||
||--generate_doc|| ||Extract help strings of each command line argument and generate wiki table.||
||--verbose, -v||int||verbose level [0-9], higner number means higher level of verboseness.||
||--infodir||str||Folder typically produced by e2evalimage.py or previous runs of this program containing info.json files, one per tilt image in a tilt series. Each .json file should contain the fitted ctf and all associated parameters for each tilt image.||
||--overlaptiles|| ||Default=False. If provided, it will cause tiles to overlap by 50 percent in x and y for power spectrum computation (periodogram averaging).||
||--predictdefocus|| ||Default=False. Works only when --autofitting is supplied and --calcglobaldefocus is NOT supplied. This constrains defocus search during strip-based defocus gradient fitting around the predicted value based on tilt angle and global defocus (the average defocus of the entire micrograph).||
||--version|| ||show program's version number and exit||
||--correctionwidth||int||Default=tile size. Width of the strip to be phase-flipped. 1 would mean that the correction moves pixel by pixel.||
||--stripflipstep||int||Default=0. Not used. This is automatically calculated based on the allowable depth of focus, in turn calculated based on apix, voltage, angle, thickness, etc. If this parameter is on, it will determine the strips in each image to flip using the same defocus. To get flipping with no "seams" (flips pixel by pixel) you would provide a value of 1 for this parameter.||
||--fixctfhighpass|| ||Applies the 'filter.ctfcorr.simple' processor. Type 'e2help.py processors' at the commnadline for an explanation.||
||--tiltseries||str||Aligned tilt series. File format must be MRC and must have .mrc or .st or .ali extension.||
||--excludeedges|| ||Ignore 'excedent' (smaller than the width of a strip) at the edge of micrographs after dividing them into strips.||
||--phaseflipstrips|| ||This will perform phase flipping on images of an aligned tilt series on a strip-by-strip basis, assuming the supplied ctf parameters correspond to the proper values at the tilt axis, either the same values for all images (--defocus,--ampcont,--cs,--apix,--voltage,--bfactor) or a different set for each (--ctfparamsfile), taking into account the tilt angle for  each image (--anglesfile), which should be supplied through an IMOD-like .tlt file.||
||--skipimgstrips||str||Default=None. Comma-separated list of image indexes to exclude from strip-based fitting (in this case, only global defocus tiling the entire image wil be measured for those images).||
||--ctfparamsfile||str||This should be a text file with ctf parameters in the following format; defocus=value voltage=value cs=value apix=value bfactor=value ampcont=value. A single space should separate each parameter from the next. Do not write any unit symbols for the values; just the numerical value. Defocus should be in microns, voltage in kV, apix in angstroms per pixel, and ampcont (amplitude contrast) should be a decimal; for example, 0.1 for 10 percent amplitude contrast. IF you want to use DIFFERENT PARAMETERS PER IMAGE, then the file must contain multiple rows with the different values. The first row will be used to phase flip the first image, the second row to phase flip the second, etc.||
||--ampcont||float||Default=0.05. Amplitude contrast to use for CTF correction phase flipping. Supply it to replace the value in ctfparamsfile(s), or if ctfparamsfile(s) are lacking altogether.||
||--tilesize||int||Tile size to use for strips when --autofit is provided.||
||--defocusmin||float|| If --autofit, minimum autofit defocus. Default=0.0, not used. A value will be estimated based on tilt angle and distance from the tilt axis.||
||--apix||float||Default=whatever is on the header of the images. Sampling of the images in angstroms/pixel. Supply --apix here to replace the value in ctfparamsfile(s), or if ctfparamsfile(s) are lacking altogether.||
||--prunetest||float||Default=0.1. Decimal number that indicates the percentage of --tilesize (in terms of side length) to tolerate of 'bad' values (i.e., empty regions of constant density) at the corners, and still include the tile for CTF fitting. For example, if --tilesize=256, and --prunetest=0.1, a box of ~25-26 pixels each corner of every tile will be analyzed and if the standard deviation of any of the corners is 0, the tile will be excluded. To turn off this option supply --prunetest=-1.0. The program automatically adjusts things so that the minimum size of regions at the corners to check will be 4x4 pixels.||
||--phaseflipwhole|| ||This will perform phase flipping on the entire image for each image in an aligned tiltseries using the CTF parameters supplied.||
||--reconstructor||str||Default=fourier:mode=gauss_2. The reconstructor to use to reconstruct the tilt series into a tomogram. Type 'e2help.py reconstructors' at the command line to see all options and parameters available. To specify the interpolation scheme for the fourier reconstruction, specify 'mode'. Options are 'nearest_neighbor', 'gauss_2', 'gauss_3', 'gauss_5', 'gauss_5_slow', 'gypergeom_5', 'experimental'. For example --reconstructor=fourier:mode=gauss_5 ||
||--calcglobaldefocus|| ||Default=False. Calculate the global defocus. If --fitgradient is nor provided, these will be the final defocus values to use.||
||-h, --help|| ||show this help message and exit||
